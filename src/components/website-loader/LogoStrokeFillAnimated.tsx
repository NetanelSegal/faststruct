'use client';

import { useScreenWidth } from '@/hooks/useScreenWidth';
import CSSConstants, {
  ColorsUnion,
  TailwindBreakpoints,
} from '@/lib/css-constants';
import { motion, Variants } from 'motion/react';

interface LogoStrokeFillAnimatedProps {
  delay?: number;
  duration?: number;
  color?: ColorsUnion;
}

const LogoStrokeFillAnimated = ({
  delay = 0,
  duration = 2,
  color = 'white',
}: LogoStrokeFillAnimatedProps) => {
  const { screenWidth } = useScreenWidth();
  const isMobile = screenWidth < TailwindBreakpoints.md;
  const svgWidth = isMobile ? 200 : 700;
  const textAnimationDelay = delay + duration;

  const containerVariants: Variants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        staggerChildren: 0.3,
      },
    },
  };

  const pathVariants: Variants = {
    hidden: { pathLength: 0, strokeOpacity: 0, fillOpacity: 0 },
    visible: {
      x: [300, null, null, 0, null],
      pathLength: [0, null, 1, null, null],
      strokeOpacity: [0, null, 1, null, null],
      fillOpacity: [0, null, null, null, 1],
      transition: {
        duration,
        delay,
        ease: 'easeInOut',
      },
    },
  };

  const textContainerVariants: Variants = {
    hidden: { opacity: 0 },
    visible: {
      opacity: 1,
      transition: {
        delay: textAnimationDelay,
        staggerChildren: 0.1,
        delayChildren: textAnimationDelay,
      },
    },
  };

  const textLetterVariants: Variants = {
    hidden: {
      opacity: 0,
      y: 20,
      scale: 0.8,
    },
    visible: {
      opacity: 1,
      y: 0,
      scale: 1,
      transition: {
        duration: 0.5,
        ease: [0.25, 0.1, 0.25, 1],
      },
    },
  };

  const symbolPaths = [
    'M1.27015 173.64C1.27015 180.38 6.74015 185.85 13.4801 185.85L31.8802 187.84V126.67C31.8802 125.1 32.6302 123.73 33.7702 122.83C34.7402 121.45 36.3702 120.59 38.1602 120.75L124.3 127.8C126.99 128.02 129 130.38 128.78 133.08C128.57 135.64 126.43 137.58 123.91 137.58C123.78 137.58 123.64 137.58 123.51 137.56L41.6701 130.87V188.91L140.35 199.23C143.29 199.54 145.84 197.23 145.84 194.28V91.6799L36.7501 83.0199C34.0801 82.8099 31.7802 80.6199 31.8802 77.9399C31.9802 75.1399 34.3502 73.0099 37.1602 73.2299L145.84 81.8599V52.9099C145.84 46.7999 141.13 41.7199 135.04 41.2599L4.31015 31.3699C1.97015 31.1899 -0.0198505 33.0599 0.000149459 35.4099L1.27015 173.66V173.64Z',
    'M121.55 0C108.61 0 101.85 -1.33514e-05 86.4898 3.57999L10.1998 19.68C8.99978 20.14 9.25979 21.91 10.5398 22.01L142.26 31.98C147.34 32.36 152.45 31.53 157.14 29.54L248.19 8.44C249.05 8.07 248.84 6.79998 247.91 6.72998L121.56 0H121.55Z',
    'M192.5 87.87C191.87 88.14 191.21 88.27 190.57 88.27C188.67 88.27 186.87 87.16 186.07 85.31C185 82.83 186.15 79.95 188.63 78.88L260.85 60.3V20.31C260.85 20.31 260.85 20.27 260.85 20.25C260.83 17.13 257.42 15.17 254.55 16.39L163.25 37.59C158.63 39.55 155.64 44.07 155.64 49.09V86.42C155.7 86.79 155.72 87.16 155.69 87.55C155.69 87.62 155.65 87.67 155.64 87.74V145.43L224.83 126.84C227.29 125.71 230.19 126.78 231.33 129.23C232.46 131.68 231.39 134.59 228.94 135.73L155.79 156.15C155.79 156.15 155.69 156.18 155.65 156.2V194.55C155.65 197.51 158.72 199.48 161.41 198.24L252.71 171.1C257.68 168.81 260.87 163.83 260.87 158.35V70.96L192.52 87.88L192.5 87.87Z',
  ];

  const textPaths = [
    // F - M303.44
    'M303.44 186.463V13.5497H387.623V36.4454H332.404V82.4268H376.928V105.418H332.404V186.463H303.44Z',
    // A - M391.727
    'M391.727 186.463L418.853 13.5497H457.102L485.955 186.463H458.94L454.408 155.614H423.717L419.613 186.463H391.727ZM426.522 134.493H451.382L438.627 47.6476H438.199L426.522 134.493Z',
    // S - M540.54
    'M540.54 188.428C532.618 188.428 526.011 187.303 520.718 185.037C515.426 182.772 511.243 179.476 508.185 175.119C505.127 170.761 502.941 165.453 501.657 159.211C500.358 152.952 499.708 145.838 499.708 137.836V122.419H527.151V139.801C527.151 149.102 528.023 155.788 529.75 159.844C531.477 163.901 534.9 165.945 540.017 165.945C543.472 165.945 546.086 165.2 547.845 163.726C549.603 162.253 550.792 159.892 551.41 156.644C552.028 153.396 552.329 149.165 552.329 143.92C552.329 137.44 550.839 131.514 547.845 126.143C544.85 120.771 540.334 115.21 534.282 109.442L520.227 96.2752C516.345 92.5993 512.828 88.7014 509.69 84.5818C506.553 80.4622 504.066 75.8514 502.228 70.781C500.39 65.7107 499.471 60.0225 499.471 53.7321C499.471 44.6372 500.691 36.9366 503.147 30.6463C505.603 24.3559 509.738 19.5867 515.569 16.3543C521.4 13.1062 529.401 11.49 539.558 11.49C547.195 11.49 553.485 12.5516 558.413 14.6906C563.341 16.8138 567.207 19.9352 569.98 24.0232C572.753 28.1111 574.717 33.1022 575.874 38.9648C577.031 44.8273 577.601 51.5138 577.601 59.0559V69.767H550.903V57.3922C550.903 52.1476 550.602 47.7903 549.984 44.3203C549.366 40.8503 548.241 38.2518 546.577 36.5089C544.913 34.7818 542.505 33.9103 539.336 33.9103C536.167 33.9103 533.854 34.5124 531.984 35.7324C530.114 36.9525 528.752 38.8063 527.928 41.3256C527.104 43.8449 526.692 47.109 526.692 51.1019C526.692 54.6986 527.199 57.82 528.213 60.4344C529.227 63.0488 530.764 65.5681 532.855 67.9924C534.947 70.4166 537.546 73.1419 540.635 76.1524L556.306 91.5852C563.8 98.9213 569.631 106.543 573.814 114.481C577.997 122.403 580.089 131.245 580.089 141.005C580.089 151.352 578.853 160.05 576.413 167.085C573.957 174.12 569.853 179.444 564.086 183.057C558.318 186.654 550.475 188.46 540.524 188.46L540.54 188.428Z',
    // T - M617.213 (first T)
    'M617.213 186.463V36.3503H589.548V13.5656H672.86V36.3503H646.067V186.463H617.213Z',
    // T - M747.79 (second T)
    'M747.79 188.428C739.867 188.428 733.26 187.303 727.968 185.037C722.676 182.772 718.493 179.476 715.435 175.119C712.377 170.761 710.19 165.453 708.907 159.211C707.608 152.952 706.958 145.838 706.958 137.836V122.419H734.401V139.801C734.401 149.102 735.272 155.788 737 159.844C738.727 163.901 742.149 165.945 747.267 165.945C750.721 165.945 753.335 165.2 755.094 163.726C756.853 162.253 758.041 159.892 758.659 156.644C759.277 153.396 759.578 149.165 759.578 143.92C759.578 137.44 758.089 131.514 755.094 126.143C752.1 120.771 747.584 115.21 741.531 109.442L727.477 96.2752C723.595 92.5993 720.077 88.7014 716.94 84.5818C713.803 80.4622 711.315 75.8514 709.477 70.781C707.639 65.7107 706.72 60.0225 706.72 53.7321C706.72 44.6372 707.94 36.9366 710.396 30.6463C712.852 24.3559 716.988 19.5867 722.818 16.3543C728.649 13.1062 736.651 11.49 746.807 11.49C754.445 11.49 760.735 12.5516 765.663 14.6906C770.59 16.8138 774.457 19.9352 777.229 24.0232C780.002 28.1111 781.967 33.1022 783.124 38.9648C784.28 44.8273 784.851 51.5138 784.851 59.0559V69.767H758.152V57.3922C758.152 52.1476 757.851 47.7903 757.233 44.3203C756.615 40.8503 755.49 38.2518 753.827 36.5089C752.163 34.7818 749.755 33.9103 746.586 33.9103C743.417 33.9103 741.103 34.5124 739.234 35.7324C737.364 36.9525 736.001 38.8063 735.177 41.3256C734.353 43.8449 733.941 47.109 733.941 51.1019C733.941 54.6986 734.449 57.82 735.463 60.4344C736.477 63.0488 738.014 65.5681 740.105 67.9924C742.197 70.4166 744.795 73.1419 747.885 76.1524L763.555 91.5852C771.05 98.9213 776.881 106.543 781.064 114.481C785.247 122.403 787.338 131.245 787.338 141.005C787.338 151.352 786.102 160.05 783.662 167.085C781.206 174.12 777.103 179.444 771.335 183.057C765.568 186.654 757.724 188.46 747.774 188.46L747.79 188.428Z',
    // T - M823.876 (third T)
    'M823.876 186.463V36.3503H796.211V13.5656H879.523V36.3503H852.73V186.463H823.876Z',
    // R - M899.884
    'M899.884 186.463V13.5497H947.766C957.701 13.5497 965.132 15.3243 970.028 18.8577C974.924 22.3911 978.157 27.5723 979.694 34.3856C981.246 41.1988 982.023 49.5173 982.023 59.341C982.023 69.1648 980.882 77.4674 978.616 83.2666C976.35 89.0657 971.724 92.9477 964.736 94.9125C968.048 95.4353 970.82 96.6713 973.055 98.6043C975.289 100.537 977.095 103.358 978.458 107.05C979.82 110.757 980.819 115.495 981.436 121.294C982.054 127.093 982.355 134.176 982.355 142.558V148.056C982.355 151.066 982.355 154.631 982.403 158.719C982.451 162.807 982.498 166.895 982.561 170.951C982.625 175.008 982.736 178.478 982.878 181.361C983.021 184.245 983.195 185.941 983.417 186.463H954.453C954.231 186.131 954.073 184.451 953.962 181.409C953.851 178.367 953.74 174.485 953.645 169.763C953.55 165.041 953.471 159.971 953.423 154.536C953.375 149.102 953.375 143.746 953.375 138.47V124.463C953.375 119.298 952.963 115.368 952.14 112.722C951.316 110.076 949.794 108.222 947.592 107.176C945.39 106.131 942.237 105.513 938.133 105.307L928.832 104.815V186.463H899.868H899.884ZM928.959 84.3916H940.525C944.059 84.3916 946.737 83.6627 948.575 82.2367C950.412 80.7948 951.68 78.1487 952.361 74.2826C953.043 70.4165 953.391 64.855 953.391 57.5822V56.5048C953.391 50.4046 953.074 45.7304 952.409 42.4505C951.759 39.1707 950.412 36.9207 948.353 35.669C946.309 34.4331 943.108 33.7993 938.798 33.7993H928.959V84.3916Z',
    // U - M1047.62
    'M1047.62 188.428C1037.75 188.428 1029.72 186.749 1023.52 183.374C1017.32 179.999 1012.78 174.897 1009.91 168.052C1007.03 161.207 1005.58 152.54 1005.58 142.066V13.5656H1034.55V141.575C1034.55 146.424 1034.79 150.686 1035.24 154.346C1035.72 158.022 1036.85 160.858 1038.65 162.902C1040.46 164.93 1043.4 165.944 1047.51 165.944C1051.61 165.944 1054.59 164.946 1056.43 162.95C1058.27 160.953 1059.39 158.117 1059.84 154.457C1060.26 150.797 1060.49 146.503 1060.49 141.591V13.5814H1089.45V142.082C1089.45 152.556 1088.02 161.223 1085.19 168.068C1082.34 174.913 1077.84 180.015 1071.67 183.39C1065.51 186.764 1057.49 188.444 1047.62 188.444V188.428Z',
    // C - M1165.63
    'M1165.63 137.139V139.611C1165.63 148.721 1164.78 155.36 1163.03 159.559C1161.31 163.742 1157.99 165.849 1153.1 165.849C1149.85 165.849 1147.33 164.946 1145.52 163.156C1143.72 161.35 1142.45 158.545 1141.69 154.711C1140.93 150.876 1140.55 145.948 1140.55 139.927V59.1667C1140.55 51.3711 1141.44 45.3026 1143.2 40.9453C1144.95 36.588 1148.47 34.4172 1153.73 34.4172C1158.49 34.4172 1161.65 36.4295 1163.24 40.4541C1164.82 44.4787 1165.62 50.7532 1165.62 59.2618V62.9061H1193.61V57.5823C1193.61 50.4997 1192.87 44.1459 1191.39 38.4735C1189.92 32.8169 1187.58 27.9843 1184.38 23.9756C1181.17 19.9827 1177.02 16.9246 1171.95 14.7856C1166.87 12.6624 1160.74 11.585 1153.53 11.585C1145.6 11.585 1138.93 12.805 1133.53 15.2134C1128.13 17.6377 1123.8 21.1077 1120.55 25.6234C1117.3 30.1392 1114.98 35.5739 1113.53 41.9276C1112.09 48.2814 1111.38 55.4115 1111.38 63.3498V138.707C1111.38 149.244 1112.92 158.244 1115.97 165.675C1119.03 173.106 1123.63 178.763 1129.76 182.613C1135.87 186.479 1143.54 188.412 1152.78 188.412C1162.51 188.412 1170.42 186.606 1176.5 183.009C1182.59 179.413 1187.04 173.962 1189.84 166.657C1192.65 159.353 1194.06 150.226 1194.06 139.294V137.123H1165.63V137.139Z',
    // T - M1236.52 (fourth T)
    'M1236.52 186.463V36.3503H1208.86V13.5656H1292.17V36.3503H1265.37V186.463H1236.52Z',
  ];

  return (
    <div className='relative flex items-center justify-center'>
      <motion.svg
        width={svgWidth}
        viewBox='0 0 1293 200'
        fill={CSSConstants.colors[color]}
        strokeWidth={2}
        stroke={CSSConstants.colors[color]}
        xmlns='http://www.w3.org/2000/svg'
        variants={containerVariants}
        initial='hidden'
        animate='visible'>
        {symbolPaths.map((path, index) => (
          <motion.path
            fill={CSSConstants.colors[color]}
            stroke={CSSConstants.colors[color]}
            key={`symbol-${index}`}
            d={path}
            variants={pathVariants}
          />
        ))}

        <motion.g
          variants={textContainerVariants}
          initial='hidden'
          animate='visible'>
          {textPaths.map((path, index) => (
            <motion.path
              fill={CSSConstants.colors[color]}
              stroke={CSSConstants.colors[color]}
              key={`text-${index}`}
              d={path}
              variants={textLetterVariants}
            />
          ))}
        </motion.g>
      </motion.svg>
    </div>
  );
};

export default LogoStrokeFillAnimated;
